if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_lockedOrientation']=undefined;this['_device']=undefined;this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['DEVICE_ORIENTATION_PORTRAIT']='portrait';TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE']='landscape';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}this['player']['delete']();this['player']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var s=function(v){if(v['name']=='begin'){var w=v['data']['source']['get']('camera');if(w&&w['get']('initialSequence')&&w['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(v['sourceClassName']=='MediaAudio')return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',s,u,!![]);u['unbindOnObjectsOf']('PanoramaPlayListItem','begin',s,u,!![]);u['unbind']('stateChange',s,u,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_currentScriptUrl']=this['_getScriptUrl']();var t=this['_getOrientation']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bind']('preloadMediaShow',s,this,!![]);u['bind']('stateChange',s,this,!![]);u['bindOnObjectsOf']('PanoramaPlayListItem','begin',s,this,!![]);u['bindOnObject']('rootPlayer','start',function(x){var y=x['data']['source'];var z=window['navigator']['language']||window['navigator']['userLanguage']||'en';var A=y['get']('data')['locales']||{};var B=y['get']('data')['defaultLocale']||z;var C=this['locManager']=new TDV['Tour']['LocaleManager'](y,A,B,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));y['get']('data')['localeManager']=C;var D=function(){var J=y['get']('data');if(!('updateText'in J)){J['updateText']=function(N){var O=N[0x0]['split']('.');if(O['length']==0x2){var P=C['trans']['apply'](C,N);var Q=N[0x1]||y;if(typeof Q=='string'){var R=Q['split']('.');Q=y[R['shift']()];for(var S=0x0;S<R['length']-0x1;++S){if(Q!=undefined)Q='get'in Q?Q['get'](R[S]):Q[R[S]];}if(Q!=undefined){var T=R[R['length']-0x1];if(Array['isArray'](Q)){for(var U=0x0;U<Q['length'];++U){this['setValue'](Q[U],T,P);}}else this['setValue'](Q,T,P);}}else{Q=Q[O[0x0]];this['setValue'](Q,O[0x1],P);}}}['bind'](y);}var K=J['translateObjs'];var L=J['updateText'];var M=function(){for(var V in K){L(K[V]);}};M();M();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],D['bind'](this));var E=this['_getParams'](location['search']['substr'](0x1));var F=E['language'];if(!F||!this['locManager']['hasLocale'](E['language']))F=z;this['setLocale'](F);this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![])||this['_setMediaFromURL'](E,!![]);if(this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']&&typeof this['_devicesUrl'][TDV['Tour']['DEVICE_MOBILE']]=='object'){var G=function(){if(!y['isCardboardViewMode']()&&this['_getOrientation']()!=t){this['reload']();}};var H=y['getByClassName']('PanoramaPlayer');for(var I=0x0;I<H['length'];++I){H[I]['bind']('viewModeChange',G,this);}y['bind']('orientationChange',G,this);}this['_onHashChange']=function(){this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![]);}['bind'](this);this['_onKeyUp']=function(W){if(W['key']=='u'){this['updateDeepLink']();this['copyToClipboard'](location['href']);}}['bind'](this);window['addEventListener']('hashchange',this['_onHashChange']);document['addEventListener']('keyup',this['_onKeyUp']);y['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));},this,![]);window['addEventListener']('message',function(X){var Y=X['data'];if(Y=='pauseTour')Y='pause';else if(Y=='resumeTour')Y='resume';else return;this[Y]['apply'](this);}['bind'](this));};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var Z=player['getByClassName']('PlayList');for(var a0=0x0,a1=Z['length'];a0<a1;a0++){var a2=Z[a0];var a3=a2['get']('selectedIndex');if(a3!=-0x1){var a4=a2['get']('items')[a3];var a5=a4['get']('player');if(a5&&a5['pause']){this['_playersPlayingTmp']['push'](a5);a5['pause']();}}}this['player']['getById']('pauseGlobalAudios')();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var a6=this['playersPlayingTmp']['pop']();a6['play']();}this['player']['getById']('resumeGlobalAudios')();};TDV['Tour']['prototype']['reload']=function(){this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(a7){var a8=this['_getRootPlayer']();if(a8!==undefined){return a8['setMainMediaByIndex'](a7);}};TDV['Tour']['prototype']['setMediaByName']=function(a9){var aa=this['_getRootPlayer']();if(aa!==undefined){return aa['setMainMediaByName'](a9);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(ab,ac,ad){var ae=this['_getRootPlayer']();if(ae!==undefined){var af=function(){var ai=ae['getPanoramaOverlayByName'](ab['get']('media'),ac);if(ai)ae['triggerOverlay'](ai,ad);};var ag=ab['get']('player');if(ag){var ah=ae['getMediaFromPlayer'](ag);if(ah==ab['get']('media')){af();return;}}ab['bind']('begin',function(aj){ab['unbind']('begin',arguments['callee'],this);af();},ae);}};TDV['Tour']['prototype']['updateDeepLink']=function(){var ak=this['_getRootPlayer']();if(ak!==undefined){ak['updateDeepLink']();}};TDV['Tour']['prototype']['setLocale']=function(al){var am=this['_getRootPlayer']();if(am!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](al);}};TDV['Tour']['prototype']['isMobile']=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i['test'](navigator['userAgent']||navigator['vendor']||window['opera']);};TDV['Tour']['prototype']['copyToClipboard']=function(an){if(navigator['clipboard']){navigator['clipboard']['writeText'](an);}else{var ao=document['createElement']('textarea');ao['value']=an;ao['style']['position']='fixed';document['body']['appendChild'](ao);ao['focus']();ao['select']();try{document['execCommand']('copy');}catch(ap){}document['body']['removeChild'](ao);}};TDV['Tour']['prototype']['_getOrientation']=function(){var aq=this['_getRootPlayer']();if(aq){return aq['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return window['innerWidth']>window['innerHeight']?TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE']:TDV['Tour']['DEVICE_ORIENTATION_PORTRAIT'];}};TDV['Tour']['prototype']['_getParams']=function(ar){var as={};ar['split']('&')['forEach'](function(at){var au=at['split']('=')[0x0],av=decodeURIComponent(at['split']('=')[0x1]);as[au['toLowerCase']()]=av;});return as;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_getScriptUrl']=function(){this['_device']=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']){this['_device']=TDV['Tour']['DEVICE_MOBILE'];}var aw=this['_devicesUrl'][this['_device']];if(typeof aw=='object'){var ax=this['_getOrientation']();if(ax in aw){aw=aw[ax];}}return aw;};TDV['Tour']['prototype']['_setMediaFromURL']=function(ay,az){var aA=undefined;if('media'in ay){var aB=ay['media'];var aC=Number(aB);aA=isNaN(aC)?this['setMediaByName'](aB):this['setMediaByIndex'](aC-0x1);}else if('media-index'in ay){aA=this['setMediaByIndex'](parseInt(ay['media-index'])-0x1);}else if('media-name'in ay){aA=this['setMediaByName'](ay['media-name']);}if(aA==undefined&&az){aA=this['setMediaByIndex'](0x0);}if(aA!=undefined&&'trigger-overlay-name'in ay){this['triggerOverlayByName'](aA,ay['trigger-overlay-name'],'trigger-overlay-event'in ay?ay['trigger-overlay-event']:'click');}return aA!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var aD=function(){var aE=undefined;var aF=function(){var aI=this['_getRootPlayer']();aE=aI['get']('lockedOrientation');aI['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var aG=function(){aF();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aG);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aG);this['reload']();}else{aF();}var aH=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',aE);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],aH);var aJ=this['_getScriptUrl']();if(this['_currentScriptUrl']!=aJ)this['reload']();}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],aH);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],aD);}};TDV['Tour']['LocaleManager']=function(aK,aL,aM,aN){TDV['EventDispatcher']['call'](this);this['rootPlayer']=aK;this['locales']={};this['defaultLocale']=aM;this['queryParam']=aN;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var aO in aL){this['registerLocale'](aO,aL[aO]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(aP,aQ){var aR=[aP,aP['split']('-')[0x0]];for(var aS=0x0;aS<aR['length'];++aS){aP=aR[aS];if(!(aP in this['locales'])){this['locales'][aP]=aQ;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(aT){delete this['locales'][aT];if(aT==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(aU){return aU in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(aV){var aW=undefined;var aX=aV['split']('-')[0x0];var aY=[aV,aX];for(var aZ=0x0;aZ<aY['length'];++aZ){var b1=aY[aZ];if(b1 in this['locales']){aW=b1;break;}}if(aW===undefined){for(var b1 in this['locales']){if(b1['indexOf'](aX)==0x0){aW=b1;break;}}}if(aW===undefined){aW=this['defaultLocale'];}var b2=this['locales'][aW];if(b2!==undefined&&this['currentLocaleID']!=aW){this['currentLocaleID']=aW;var b3=this;if(typeof b2=='string'){var b4=new XMLHttpRequest();b4['onreadystatechange']=function(){if(b4['readyState']==0x4){if(b4['status']==0xc8){b3['locales'][aW]=b3['currentLocaleMap']=b3['_parsePropertiesContent'](b4['responseText']);b3['dispatchEvent'](b3['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw b2+'\x20can\x27t\x20be\x20loaded';}}};var b5=b2;if(this['queryParam'])b5+=(b5['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];b4['open']('GET',b5);b4['send']();}else{this['currentLocaleMap']=b2;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(b6){var b7=this['currentLocaleMap'][b6];if(arguments['length']>0x2){var b8=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var b9=arguments;function ba(bb){return/^\d+$/['test'](bb);}b7=b7['replace'](/\{\{([\w\.]+)\}\}/g,function(bc,bd){if(ba(bd))bd=b9[parseInt(bd)+0x1];else if(b8!==undefined)bd=b8[bd];if(typeof bd=='string')bd=this['currentLocaleMap'][bd]||bd;else if(typeof bd=='function')bd=bd['call'](this['rootPlayer']);return bd!==undefined?bd:'';}['bind'](this));}return b7;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(be){be=be['replace'](/(^|\n)#[^\n]*/g,'');var bf={};var bg=be['split']('\x0a');for(var bh=0x0,bi=bg['length'];bh<bi;++bh){var bj=bg[bh]['trim']();if(bj['length']==0x0){continue;}var bk=bj['indexOf']('=');if(bk==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+bh);continue;}var bl=bj['substr'](0x0,bk)['trim']();var bm=bj['substr'](bk+0x1)['trim']();var bn;while((bn=bm['lastIndexOf']('\x5c'))!=-0x1&&bn==bm['length']-0x1&&++bh<bi){bm=bm['substr'](0x0,bm['length']-0x2);bj=bg[bh]['trim']();if(bj['length']==0x0)break;bm+='\x0a'+bj;}bf[bl]=bm;}return bf;};TDV['Tour']['HistoryData']=function(bo){this['playList']=bo;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(bp){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==bp){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],bp);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(bq,br){for(var bs in bq){var bt=bq[bs];if(typeof bt=='object'&&bt!==null)this['assignObjRecursively'](bq[bs],br[bs]||(br[bs]={}));else br[bs]=bt;}return br;};TDV['Tour']['Script']['autotriggerAtStart']=function(bu,bv,bw){var bx=function(by){bv();if(bw==!![])bu['unbind']('change',bx,this);};bu['bind']('change',bx,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(bz,bA,bB){var bC=function(bJ){bD['unbind']('stop',bC,this);if(bB==bF['get']('backgroundColor')&&bI==bF['get']('backgroundColorRatios')){bF['set']('backgroundColor',bG);bF['set']('backgroundColorRatios',bH);}};var bD=bz['get']('items')[bA];var bE=bD['get']('player');var bF=bE['get']('viewerArea');var bG=bF['get']('backgroundColor');var bH=bF['get']('backgroundColorRatios');var bI=[0x0];if(bB!=bG||bI!=bH){bF['set']('backgroundColor',bB);bF['set']('backgroundColorRatios',bI);bD['bind']('stop',bC,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(bK,bL){var bM=bK['get']('selectedIndex');if(bM>=0x0&&bL>=0x0&&bM!=bL){var bN=bK['get']('items')[bM];var bO=bK['get']('items')[bL];var bP=bN['get']('player');var bQ=bO['get']('player');if((bP['get']('class')=='PanoramaPlayer'||bP['get']('class')=='Video360Player')&&(bQ['get']('class')=='PanoramaPlayer'||bQ['get']('class')=='Video360Player')){var bR=this['cloneCamera'](bO['get']('camera'));this['setCameraSameSpotAsMedia'](bR,bN['get']('media'));this['startPanoramaWithCamera'](bO['get']('media'),bR);}}};TDV['Tour']['Script']['cloneCamera']=function(bS){var bT=this['rootPlayer']['createInstance'](bS['get']('class'));bT['set']('id',bS['get']('id')+'_copy');bT['set']('initialSequence',bS['get']('initialSequence'));bT['set']('idleSequence',bS['get']('idleSequence'));return bT;};TDV['Tour']['Script']['copyObjRecursively']=function(bU){var bV={};for(var bW in bU){var bX=bU[bW];if(typeof bX=='object'&&bX!==null)bV[bW]=this['copyObjRecursively'](bU[bW]);else bV[bW]=bX;}return bV;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(bY,bZ,c0,c1){var c2=undefined;var c3=function(c6){if(c6['data']['previousSelectedIndex']==bZ){if(c1)c1['call'](this);if(c0&&c2)c2['unbind']('end',c0,this);bY['unbind']('change',c3,this);}};if(c0){var c4=bY['get']('items')[bZ];if(c4['get']('class')=='PanoramaPlayListItem'){var c5=c4['get']('camera');if(c5!=undefined)c2=c5['get']('initialSequence');if(c2==undefined)c2=c5['get']('idleSequence');}else{c2=c4['get']('media');}if(c2){c2['bind']('end',c0,this);}}bY['bind']('change',c3,this);};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(c7){var c8=c7['get']('buttonPlayPause');if(typeof c8!=='undefined'&&c7['get']('state')=='playing'){if(!Array['isArray'](c8))c8=[c8];for(var c9=0x0;c9<c8['length'];++c9)c8[c9]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(ca){var cb=this['getActivePlayerWithViewer'](ca);if(cb==undefined){return undefined;}return this['getMediaFromPlayer'](cb);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(cc){var cd=this['getCurrentPlayers']();var ce=cd['length'];while(ce-->0x0){var cf=cd[ce];if(cf['get']('viewerArea')==cc){var cg=cf['get']('class');if(cg=='PanoramaPlayer'&&(cf['get']('panorama')!=undefined||cf['get']('video')!=undefined))return cf;else if((cg=='VideoPlayer'||cg=='Video360Player')&&cf['get']('video')!=undefined)return cf;else if(cg=='PhotoAlbumPlayer'&&cf['get']('photoAlbum')!=undefined)return cf;else if(cg=='MapPlayer'&&cf['get']('map')!=undefined)return cf;}}return undefined;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(ch){var ci=undefined;var cj=undefined;switch(ch['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':ci='PanoramaPlayer';cj='panorama';break;case'Video360':ci='PanoramaPlayer';cj='video';break;case'PhotoAlbum':ci='PhotoAlbumPlayer';cj='photoAlbum';break;case'Map':ci='MapPlayer';cj='map';break;case'Video':ci='VideoPlayer';cj='video';break;};if(ci!=undefined){var ck=this['getByClassName'](ci);for(var cl=0x0;cl<ck['length'];++cl){var cm=ck[cl];if(cm['get'](cj)==ch){return cm;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var cn=this['getByClassName']('PanoramaPlayer');cn=cn['concat'](this['getByClassName']('VideoPlayer'));cn=cn['concat'](this['getByClassName']('Video360Player'));cn=cn['concat'](this['getByClassName']('PhotoAlbumPlayer'));cn=cn['concat'](this['getByClassName']('MapPlayer'));return cn;};TDV['Tour']['Script']['getGlobalAudio']=function(co){var cp=window['currentGlobalAudios'];if(cp!=undefined&&co['get']('id')in cp){co=cp[co['get']('id')]['audio'];}return co;};TDV['Tour']['Script']['getMediaByName']=function(cq){var cr=this['getByClassName']('Media');for(var cs=0x0,ct=cr['length'];cs<ct;++cs){var cu=cr[cs];var cv=cu['get']('data');if(cv&&cv['label']==cq){return cu;}}return undefined;};TDV['Tour']['Script']['getComponentByName']=function(cw){var cx=this['getByClassName']('UIComponent');for(var cy=0x0,cz=cx['length'];cy<cz;++cy){var cA=cx[cy];var cB=cA['get']('data');if(cB!=undefined&&cB['name']==cw){return cA;}}return undefined;};TDV['Tour']['Script']['getMediaFromPlayer']=function(cC){switch(cC['get']('class')){case'PanoramaPlayer':return cC['get']('panorama')||cC['get']('video');case'VideoPlayer':case'Video360Player':return cC['get']('video');case'PhotoAlbumPlayer':return cC['get']('photoAlbum');case'MapPlayer':return cC['get']('map');}};TDV['Tour']['Script']['getMediaWidth']=function(cD){switch(cD['get']('class')){case'Video360':var cE=cD['get']('video');if(cE instanceof Array){var cF=0x0;for(var cG=0x0;cG<cE['length'];cG++){var cH=cE[cG];if(cH['get']('width')>cF)cF=cH['get']('width');}return cF;}else{return cH['get']('width');}default:return cD['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(cI){switch(cI['get']('class')){case'Video360':var cJ=cI['get']('video');if(cJ instanceof Array){var cK=0x0;for(var cL=0x0;cL<cJ['length'];cL++){var cM=cJ[cL];if(cM['get']('height')>cK)cK=cM['get']('height');}return cK;}else{return cM['get']('height');}default:return cI['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(cN){switch(cN['get']('class')){case'Panorama':var cO=cN['get']('overlays')['concat']()||[];var cP=cN['get']('frames');for(var cQ=0x0;cQ<cP['length'];++cQ){cO=cO['concat'](cP[cQ]['get']('overlays')||[]);}return cO;case'Video360':case'Map':return cN['get']('overlays')||[];default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(cR,cS){var cT=this['getOverlays'](cR);for(var cU=0x0,cV=cT['length'];cU<cV;++cU){var cW=cT[cU];var cX=cW['get']('data');if(cX!=undefined&&cX['label']==cS){return cW;}}return undefined;};TDV['Tour']['Script']['getPixels']=function(cY){var cZ=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](cY);if(cZ==undefined){return 0x0;}var d0=parseFloat(cZ[0x1]);var d1=cZ[0x4];var d2=this['rootPlayer']['get']('actualWidth')/0x64;var d3=this['rootPlayer']['get']('actualHeight')/0x64;switch(d1){case'vw':return d0*d2;case'vh':return d0*d3;case'vmin':return d0*Math['min'](d2,d3);case'vmax':return d0*Math['max'](d2,d3);default:return d0;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(d4,d5){var d6=[];var d7=this['getByClassName']('PlayList');for(var d8=0x0,d9=d7['length'];d8<d9;++d8){var da=d7[d8];if(d5&&da['get']('selectedIndex')==-0x1)continue;if(this['getPlayListItemByMedia'](da,d4)!=undefined)d6['push'](da);}return d6;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(db){var dc=this['getByClassName']('PlayList');var dd=function(df){var dg=df['get']('items');for(var dh=dg['length']-0x1;dh>=0x0;--dh){var di=dg[dh];var dj=di['get']('player');if(dj!==undefined&&dj['get']('viewerArea')==db)return!![];}return![];};for(var de=dc['length']-0x1;de>=0x0;--de){if(!dd(dc[de]))dc['splice'](de,0x1);}return dc;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(dk,dl){var dm=this['getPlayListsWithMedia'](dk,dl);return dm['length']>0x0?dm[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(dn,dp){var dq=dn['get']('items');for(var dr=0x0,ds=dq['length'];dr<ds;++dr){var dt=dq[dr];if(dt['get']('media')==dp)return dt;}return undefined;};TDV['Tour']['Script']['getPlayListItems']=function(du,dv){var dw=function(){switch(du['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Video360':return'Video360PlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Map':return'MapPlayListItem';case'Video':return'VideoPlayListItem';}}();if(dw!=undefined){var dx=this['getByClassName'](dw);for(var dy=dx['length']-0x1;dy>=0x0;--dy){var dz=dx[dy];if(dz['get']('media')!=du||dv!=undefined&&dz['get']('player')!=dv){dx['splice'](dy,0x1);}}return dx;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(dA){var dB=this['get']('data')['history'][dA['get']('id')];if(dB!=undefined){dB['back']();}};TDV['Tour']['Script']['historyGoForward']=function(dC){var dD=this['get']('data')['history'][dC['get']('id')];if(dD!=undefined){dD['forward']();}};TDV['Tour']['Script']['init']=function(){var dE=this['get']('data')['history'];var dF=function(dK){var dL=dK['source'];var dM=dL['get']('selectedIndex');if(dM<0x0)return;var dN=dL['get']('id');if(!dE['hasOwnProperty'](dN))dE[dN]=new TDV['Tour']['HistoryData'](dL);dE[dN]['add'](dM);};var dG=this['getByClassName']('PlayList');for(var dH=0x0,dI=dG['length'];dH<dI;++dH){var dJ=dG[dH];dJ['bind']('change',dF,this);}};TDV['Tour']['Script']['initGA']=function(){var dO=function(ee,ef,eg){ga('send','event',ee,ef,eg);};var dQ=this['getByClassName']('Panorama');dQ=dQ['concat'](this['getByClassName']('Video360'));dQ=dQ['concat'](this['getByClassName']('Map'));for(var dT=0x0,dW=dQ['length'];dT<dW;++dT){var dX=dQ[dT];var dZ=dX['get']('data');var e0=dZ?dZ['label']:undefined;var e1=this['getOverlays'](dX);for(var e2=0x0,e3=e1['length'];e2<e3;++e2){var e4=e1[e2];var e5=e4['get']('data')!=undefined?e0+'\x20-\x20'+e4['get']('data')['label']:e0;switch(e4['get']('class')){case'HotspotPanoramaOverlay':case'HotspotMapOverlay':var e6=e4['get']('areas');for(var e7=0x0;e7<e6['length'];++e7){e6[e7]['bind']('click',dO['bind'](this,'Hotspot','click',e5),this);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':e4['bind']('click',dO['bind'](this,'Cap','click',e5),this);break;}}}var e8=this['getByClassName']('Button');e8=e8['concat'](this['getByClassName']('IconButton'));for(var dT=0x0,dW=e8['length'];dT<dW;++dT){var e9=e8[dT];var ea=e9['get']('data')['name'];e9['bind']('click',dO['bind'](this,'Skin','click',ea),this);}var eb=this['getByClassName']('PlayListItem');var ec={};for(var dT=0x0,dW=eb['length'];dT<dW;++dT){var ed=eb[dT];var dQ=ed['get']('media');if(!(dQ['get']('id')in ec)){var dZ=dQ['get']('data');ed['bind']('begin',dO['bind'](this,'Media','play',dZ?dZ['label']:undefined),this);ec[dQ['get']('id')]=ed;}}};TDV['Tour']['Script']['initQuiz']=function(eh,ei){var ej={'question':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.2},'window':{'width':'60%','height':'60%','backgroundColor':'#ffffff','backgroundOpacity':0.9,'borderRadius':0x5,'horizontalAlign':'center','minWidth':0x1f4,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'shadowBlurRadius':0x4,'shadow':!![],'shadowColor':'#000000','shadowOpacity':0.3,'shadowHorizontalLength':0x0,'shadowVerticalLength':0x0,'shadowSpread':0x4,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'600','paddingLeft':0x32,'paddingRight':0x32,'paddingBottom':0x28,'paddingTop':0x19,'textAlign':'center'},'buttonsContainer':{'horizontalAlign':'right','verticalAlign':'bottom','button':{'backgroundColor':'#000000','backgroundOpacity':0.7,'borderRadius':0x3,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xa,'paddingBottom':0xa,'verticalAlign':'middle'}},'bodyContainer':{'width':'100%','height':'100%','gap':0x23,'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e,'paddingBottom':0x1e},'mediaContainer':{'width':'70%','height':'100%','buttonNext':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=','width':0x19,'height':0x25},'buttonPrevious':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC','width':0x19,'height':0x25},'viewerArea':{'playbackBarBackgroundColor':'#000000','playbackBarBackgroundOpacity':0.5,'playbackBarBorderRadius':0x0,'playbackBarBorderSize':0x0,'playbackBarBottom':0x5,'playbackBarHeight':0x6,'playbackBarLeft':0x0,'playbackBarRight':0x0,'playbackBarProgressBackgroundColor':'#3399ff','playbackBarProgressOpacity':0.5,'playbackBarHeadBackgroundColor':'#cccccc','playbackBarHeadBorderColor':'#ffffff','playbackBarHeadBorderRadius':0x7,'playbackBarHeadBorderSize':0x3,'playbackBarHeadOpacity':0x1,'playbackBarHeadWidth':0xe,'playbackBarHeadHeight':0xe,'playbackBarHeadShadow':!![],'playbackBarHeadShadowBlurRadius':0x2,'playbackBarHeadShadowColor':'#000000','playbackBarHeadShadowHorizontalLength':0x0,'playbackBarHeadShadowOpacity':0.3,'playbackBarHeadShadowSpread':0x2,'playbackBarHeadShadowVerticalLength':0x0,'backgroundColor':'#e6e6e6','backgroundOpacity':0x1}},'optionsContainer':{'gap':0xa,'width':'30%','height':'100%','overflow':'scroll','contentOpaque':!![]},'option':{'gap':0xa,'text':{'fontColor':'#404040','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left','verticalAlign':'middle','selected':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left'}},'label':{'borderRadius':0x13,'backgroundColor':'#000000','backgroundOpacity':0.2,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26,'correct':{'borderRadius':0x13,'backgroundColor':'#39b54a','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26},'incorrect':{'borderRadius':0x13,'backgroundColor':'#ed1c24','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26}}},'closeButton':{'backgroundColor':'#009FE3','height':0x2d,'iconColor':'#FFFFFF','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d}}},'score':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','minWidth':0x1f4,'maxWidth':0x5dc,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'content':{'width':'100%','horizontalAlign':'center'},'closeButton':{'backgroundColor':'#009fe3','height':0x2d,'iconColor':'#ffffff','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x32,'fontWeight':'800','paddingBottom':0xf,'paddingTop':0x32,'textAlign':'center'},'description':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x10,'fontWeight':'400','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'textAlign':'center'},'statsContainer':{'gap':0x14,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'verticalAlign':'middle','overflow':'scroll','contentOpaque':!![]},'stats':{'borderColor':'#009fe3','borderSize':0x1,'borderRadius':0x4b,'gap':0x0,'height':0x96,'horizontalAlign':'center','layout':'vertical','verticalAlign':'middle','minWidth':0x96,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'400','paddingTop':0xa,'paddingLeft':0x5,'paddingRight':0x5},'mainValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'700'},'secondaryValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'700'},'label':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0xf,'fontWeight':'400'}},'calification':{'fontColor':'#009fe3','fontFamily':'Arial','fontSize':0x1e,'fontWeight':'700','textAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xa,'paddingTop':0xf,'verticalAlign':'middle','width':'100%'},'timeContainer':{'gap':0x5,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xa,'verticalAlign':'middle','width':'100%'},'buttonsContainer':{'gap':0x8,'paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0x32,'paddingTop':0x23,'horizontalAlign':'center','verticalAlign':'middle','width':'100%','button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'}}}},'timeout':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','gap':0xf,'paddingBottom':0x37,'paddingLeft':0x50,'paddingRight':0x50,'paddingTop':0x2d,'icon':{'height':0x48,'url':'data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAUAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAgICAgICAgICAgMCAgIDBAMCAgMEBQQEBAQEBQYFBQUFBQUGBgcHCAcHBgkJCgoJCQwMDAwMDAwMDAwMDAwMDAEDAwMFBAUJBgYJDQsJCw0PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgASAA+AwERAAIRAQMRAf/EAHQAAAICAwEBAAAAAAAAAAAAAAUGAAQCAwcBCQEBAAAAAAAAAAAAAAAAAAAAABAAAQMDAgMHAwMBCQAAAAAAAQIDBAARBSExQRITUWFxkbEiBoGhFFJiIzLB0UJygqJDYyQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APv5QSglBydzJZHqOf8AvkD3HQOqA37AaAjhZ85zJxG3Jjzja1EKQtxSgfaeBNB0eglBKANl8w1jGwkAOylj+NnsH6ld1BliMqjKMrVydN9mweQNtb2IPfagkzOY6EShb3VdTu017j9TsPOgQspNiTHELiQxFCebnItdZPEgCgu4fKwcekfkQuo8FEplJCSoAi1he3rQO8PKQZ+kd8Fe5aV7VeR3+lAMzGeGOdTHZbDz+inea4SlJ2GnE0FtOaiLxzmRTdSWQOqyP6kqJACT4k70CtmMLkPzJEhtKpTTpU51Li6Rvym54DagAMy5Mdt1pl5TSHwA6lJte1AQx+Em5ABxCQywf+degP8AlG5oGRr4lEAHWlPLVxKAlI+4VQYP/EmSD+NLWlXAOgKHmLelArTMfNxjiesko1u0+gnlJHYrTWg0uOyp8hBcUqRIc5W0Xtc8AKAyxgskmHNWptSFrSltuMCLrPUSSTrawtQHfk88x4yIjSrOSr9Qjg2N/M0ADAYkT3i++LxY5F0/rVvy+HbQPU5yRHhuKgsB15AAaatpa4GgFthwoKj7M/IYxpIc/AmL5VOBJI23FxqL70Hs5zJRIcZMNsTZCeRD61AkmwsVWuNzQEHWW5TBZkthSXUjqNnWx7j3dtBzDJwHMZMU1clH9cd3YlPD6igcUZhxeAdnJsZLIDTncskJ5v8AcDQLPyN0u5V8HZlKG0+HKCfuTQO+GYEbGRE2sVoDiz3r92vhe1B5jse5DclurmKlJlK5kg8N+8660HuQy8THKQh7nW64LpabAKrdupAoFub8pdc/jx7Jb5tA64AVa9iRcetBcw+PmtyBkslIUhxwFCGVq9yub9V9u4UGz5VHDkJqRb3sOWv+1eh+4FArQ3iMXmI99FJZcA7CHUg+ooJnkFGWmA8VJUP9SQaB9jtonYdhrnKUPxkIKk7j2gH70GzGx2IcYQ2ZAfMckOG4JCiSbEDbwoBmShz28i1lMe0iQtLfTWys2tuLi5Hb20GWHxKo6nps1pH5r6ytKRYhsHU2toCSeFBZyUGFknWGHpPTfYJWllC0hZSbX9pueG9BW+TrCMWtJ3dcQlP0PN/ZQJURJMLLK4BlsE95eRb0oDvyuIUvMTUj2OJ6Th7FDUeY9KC38XyCVsqx7irONErY70nUj6HWgJmNDwjc7IoS64XLKcRcHdWydBxPGguNZGM5BbnuK/HYcF/5NCNbW86DVkMozAitS+QyG3lJCCg6WUL3v4CgyRAiuy2sryrTIU2OUE2Aum2o7bG1An/JsgmTJTFaVzNRb86hsVnfy2oNkeEtr41PfKTzyihYH/WhabH1NA6zIrU2O7GeF0OC1+IPAjwoOYSosvEywlRLbrZ5mXk7KHAigbcf8ljPoDOQAZdtYu2u2rx7PSgPOtQslH6JKH45sQG1aC21ik0HqnYMFlDTjrbDTSQlCFqGw20OpoFTK/JeolUfHXSFaLkkWNv2jh4mgD4fEuZJ8FQKYrZ/nc7f2jvNB0zpt9Po8g6XLydO2nLa1reFBnQVZkKNOaLMlsLT/hVspJ7QeFAlTPi0tolUNYkt8EKISseeh86AKvFZJB5TAfJ/a2pQ8wDQZtYjJunlTBeB7VpKB5qtQMEH4qolLk90BO/QbNye4q/uoHJplphtLTKA22gWShOgFBsoP//Z','width':0x3e},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'800','textAlign':'center','paddingBottom':0x14},'button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'},'buttonsContainer':{'horizontalAlign':'center','width':'100%','gap':0xa}}}};eh['theme']='theme'in eh?this['mixObject'](ej,eh['theme']):ej;if(eh['player']['get']('isMobile')){var ek=this['mixObject'](eh['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}}});eh['theme']=ek;}var el=this['get']('data');var em=document['getElementById']('metaViewport');var en=em?/initial-scale=(\d+(\.\d+)?)/['exec'](em['getAttribute']('content')):undefined;var eo=en?en[0x1]:0x1;el['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/eo,'maxHeight':0x258/eo,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'}}}};var ep=new TDV['Quiz'](eh);ep['setMaxListeners'](0x32);ep['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((ep['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+ep['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(ep['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+ep['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)ep['finish']();}['bind'](this));if(ei===!![])ep['start']();el['quiz']=ep;};TDV['Tour']['Script']['isCardboardViewMode']=function(){var eq=this['getByClassName']('PanoramaPlayer');return eq['length']>0x0&&eq[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['keepCompVisible']=function(er,es){var et='keepVisibility_'+er['get']('id');var eu=this['getKey'](et);if(eu==undefined&&es){this['registerKey'](et,es);}else if(eu!=undefined&&!es){this['unregisterKey'](et);}};TDV['Tour']['Script']['_initItemWithComps']=function(ev,ew,ex,ey,ez,eA,eB,eC){var eD=ev['get']('items')[ew];var eE=eD['get']('media');var eF=eE['get']('loop')==undefined||eE['get']('loop');var eG=eC>0x0;var eH=this['rootPlayer'];var eI=function(eQ){var eR=eA?eA['get']('class'):undefined;var eS=undefined;switch(eR){case'FadeInEffect':case'FadeOutEffect':eS=eH['createInstance'](eQ?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':eS=eH['createInstance'](eQ?'SlideInEffect':'SlideOutEffect');break;}if(eS){eS['set']('duration',eA['get']('duration'));eS['set']('easing',eA['get']('easing'));if(eR['indexOf']('Slide')!=-0x1)eS['set'](eQ?'from':'to',eA['get'](eA['get']('class')=='SlideInEffect'?'from':'to'));}return eS;};var eJ=function(){for(var eT=0x0,eU=ex['length'];eT<eU;++eT){var eV=ex[eT];if(eC>0x0){this['setComponentVisibility'](eV,!ez,0x0,eI(!ez));}else{var eW='visibility_'+eV['get']('id');if(this['existsKey'](eW)){if(this['getKey'](eW))this['setComponentVisibility'](eV,!![],0x0,eI(!![]));else this['setComponentVisibility'](eV,![],0x0,eI(![]));this['unregisterKey'](eW);}}}eD['unbind']('end',eJ,this);if(!eF)eE['unbind']('end',eJ,this);};var eK=function(){eD['unbind']('stop',eK,this,!![]);eD['unbind']('stop',eK,this);eD['unbind']('begin',eK,this,!![]);eD['unbind']('begin',eK,this);for(var eX=0x0,eY=ex['length'];eX<eY;++eX){this['keepCompVisible'](ex[eX],![]);}};var eL=function(eZ,f0,f1){var f2=function(){var f3=function(f7,f8,f9){eH['setComponentVisibility'](f7,f8,f0,f9,f8?'showEffect':'hideEffect',![]);if(f1>0x0){var fa=f0+f1+(f9!=undefined?f9['get']('duration'):0x0);eH['setComponentVisibility'](f7,!f8,fa,eI(!f8),f8?'hideEffect':'showEffect',!![]);}};for(var f4=0x0,f5=ex['length'];f4<f5;++f4){var f6=ex[f4];if(ez=='toggle'){if(!f6['get']('visible'))f3(f6,!![],eI(!![]));else f3(f6,![],eI(![]));}else{f3(f6,ez,eI(ez));}}eD['unbind'](eZ,f2,this);if(eZ=='end'&&!eF)eE['unbind'](eZ,f2,this);};eD['bind'](eZ,f2,this);if(eZ=='end'&&!eF)eE['bind'](eZ,f2,this);};if(ey=='begin'){for(var eM=0x0,eN=ex['length'];eM<eN;++eM){var eO=ex[eM];this['keepCompVisible'](eO,!![]);if(eG){var eP='visibility_'+eO['get']('id');this['registerKey'](eP,eO['get']('visible'));}}eD['bind']('stop',eK,this,!![]);eD['bind']('stop',eK,this);eD['bind']('begin',eK,this,!![]);eD['bind']('begin',eK,this);if(eG){eD['bind']('end',eJ,this);if(!eF)eE['bind']('end',eJ,this);}}else if(ey=='end'&&eC>0x0){eL('begin',eC,0x0);eC=0x0;}if(ey!=undefined)eL(ey,eB,eC);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(fb,fc){var fd=fb['get']('selectedIndex');var fe=fb['get']('items')['length'];var ff=(fd+fc)%fe;while(ff<0x0){ff=fe+ff;}if(fd!=ff){fb['set']('selectedIndex',ff);}};TDV['Tour']['Script']['mixObject']=function(fg,fh){return this['assignObjRecursively'](fh,this['copyObjRecursively'](fg));};TDV['Tour']['Script']['openLink']=function(fi,fj){if(!fi||fi==location['href']){return;}var fk=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(fj=='_blank'&&fk){if(fi['startsWith']('/')){var fl=window['location']['href']['split']('/');fl['pop']();fi=fl['join']('/')+fi;}var fm=fi['split']('.')['pop']()['toLowerCase']();if(fm!='pdf'||fi['startsWith']('file://')){var fn=window['require']('electron')['shell'];fn['openExternal'](fi);}else{window['open'](fi,fj);}}else if(fk&&(fj=='_top'||fj=='_self')){window['location']=fi;}else{var fo=window['open'](fi,fj);fo['focus']();}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(fp){var fq=this['getCurrentPlayers']();var fr=fq['length'];while(fr-->0x0){var fs=fq[fr];if(fs['get']('state')=='playing'||fs['get']('viewerArea')&&fs['get']('viewerArea')['get']('id')==this['MainViewer']){var ft=this['getMediaFromPlayer'](fs);if(fp&&ft['get']('class')!='Video360'&&'pauseCamera'in fs){fs['pauseCamera']();}else{fs['pause']();}}else{fq['splice'](fr,0x1);}}return fq;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(fu,fv,fw){var fx=this;var fy=fu['get']('items')[fv];var fz=fy['get']('media');var fA=fy['get']('player');var fB=fz['get']('id');var fC=function(){if(fu['get']('selectedIndex')!=fv){if(fF){fA['unbind']('stateChange',fD,fx);}fx['resumeGlobalAudios'](fB);}};var fD=function(fG){var fH=fG['data']['state'];if(fH=='stopped'){this['resumeGlobalAudios'](fB);}else if(fH=='playing'){this['pauseGlobalAudios'](fB,fw);}};var fE=fz['get']('class');var fF=fE=='Video360'||fE=='Video';if(fF){fA['bind']('stateChange',fD,this);}this['pauseGlobalAudios'](fB,fw);this['executeFunctionWhenChange'](fu,fv,fC,fC);};TDV['Tour']['Script']['pauseGlobalAudios']=function(fI,fJ){if(window['pauseGlobalAudiosState']==undefined)window['pauseGlobalAudiosState']={};if(window['pauseGlobalAudiosList']==undefined)window['pauseGlobalAudiosList']=[];if(fI in window['pauseGlobalAudiosState']){return;}var fK=this['getByClassName']('Audio')['concat'](this['getByClassName']('VideoPanoramaOverlay'));if(window['currentGlobalAudios']!=undefined)fK=fK['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(fW){return fW['audio'];}));var fL=[];var fM=Object['values'](window['pauseGlobalAudiosState']);for(var fO=0x0,fQ=fM['length'];fO<fQ;++fO){var fR=fM[fO];for(var fS=0x0;fS<fR['length'];++fS){var fU=fR[fS];if(fL['indexOf'](fU)==-0x1)fL['push'](fU);}}window['pauseGlobalAudiosState'][fI]=fL;var fV=window['currentGlobalAudios']||{};for(var fO=0x0,fQ=fK['length'];fO<fQ;++fO){var fU=fK[fO];if(fU['get']('state')=='playing'&&(fJ==undefined||fJ['indexOf'](fU)==-0x1)){if(fU['get']('id')in fV&&!fV[fU['get']('id')]['asBackground']){this['stopGlobalAudio'](fU);}else{fU['pause']();fL['push'](fU);}}}};TDV['Tour']['Script']['pauseGlobalAudio']=function(fX){var fY=window['currentGlobalAudios'];if(fY){var fZ=fY[fX['get']('id')];if(fZ)fX=fZ['audio'];}if(fX['get']('state')=='playing')fX['pause']();};TDV['Tour']['Script']['playAudioList']=function(g0,g1){if(g0['length']==0x0)return;var g2=-0x1;var g3;var g4=this['playGlobalAudio'];var g5=function(){if(++g2>=g0['length']){if(!g1)return;g2=0x0;}g3=g0[g2];g4(g3,g5,!![]);};g5();};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(g6,g7,g8,g9,ga){var gb=function(gn){if(gn['data']['previousSelectedIndex']==g7){this['stopGlobalAudio'](g8);if(gf){var go=ge['get']('media');var gp=go['get']('audios');gp['splice'](gp['indexOf'](g8),0x1);go['set']('audios',gp);}g6['unbind']('change',gb,this);if(g9)g9();}};var gd=window['currentGlobalAudios'];if(gd&&g8['get']('id')in gd){g8=gd[g8['get']('id')]['audio'];if(g8['get']('state')!='playing'){g8['play']();}return g8;}g6['bind']('change',gb,this);var ge=g6['get']('items')[g7];var gf=ge['get']('class')=='PanoramaPlayListItem';if(gf){var gg=ge['get']('media');var gd=(gg['get']('audios')||[])['slice']();if(g8['get']('class')=='MediaAudio'){var gh=this['rootPlayer']['createInstance']('PanoramaAudio');gh['set']('autoplay',![]);gh['set']('audio',g8['get']('audio'));gh['set']('loop',g8['get']('loop'));gh['set']('id',g8['get']('id'));var gi=g8['getBindings']('stateChange');for(var gj=0x0;gj<gi['length'];++gj){var gk=gi[gj];if(typeof gk=='string')gk=new Function('event',gk);gh['bind']('stateChange',gk,this);}g8=gh;}gd['push'](g8);gg['set']('audios',gd);}var gl=this['playGlobalAudio'](g8,g9);if(ga===!![]){var gm=function(){if(gl['get']('state')=='playing'){this['pauseGlobalAudios'](gl['get']('id'),[gl]);}else{this['resumeGlobalAudios'](gl['get']('id'));gl['unbind']('stateChange',gm,this);}};gl['bind']('stateChange',gm,this);}return gl;};TDV['Tour']['Script']['playGlobalAudio']=function(gq,gr,gs){var gt=function(){gq['unbind']('end',gt,this);this['stopGlobalAudio'](gq);if(gr)gr['call'](this);};gq=this['getGlobalAudio'](gq);var gu=window['currentGlobalAudios'];if(!gu){gu=window['currentGlobalAudios']={};}gu[gq['get']('id')]={'audio':gq,'asBackground':gs||![]};if(gq['get']('state')=='playing'){return gq;}if(!gq['get']('loop')){gq['bind']('end',gt,this);}gq['play']();return gq;};TDV['Tour']['Script']['resumeGlobalAudios']=function(gv){if(window['pauseGlobalAudiosState']==undefined||!(gv in window['pauseGlobalAudiosState']))return;var gw=window['pauseGlobalAudiosState'][gv];delete window['pauseGlobalAudiosState'][gv];var gx=Object['values'](window['pauseGlobalAudiosState']);for(var gz=0x0,gB=gx['length'];gz<gB;++gz){var gC=gx[gz];for(var gD=gw['length']-0x1;gD>=0x0;--gD){var gF=gw[gD];if(gC['indexOf'](gF)!=-0x1)gw['splice'](gD,0x1);}}for(var gz=0x0,gB=gw['length'];gz<gB;++gz){var gF=gw[gz];if(gF['get']('state')=='paused')gF['play']();}};TDV['Tour']['Script']['resumePlayers']=function(gG,gH){for(var gI=0x0;gI<gG['length'];++gI){var gJ=gG[gI];var gK=this['getMediaFromPlayer'](gJ);if(!gK)continue;if(gH&&gK['get']('class')!='Video360'&&'pauseCamera'in gJ){gJ['resumeCamera']();}else{gJ['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(gL){var gM=window['currentGlobalAudios'];var gN=this;if(gM){Object['keys'](gM)['forEach'](function(gO){var gP=gM[gO];if(!gL||gL&&!gP['asBackground']){gN['stopGlobalAudio'](gP['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(gQ){var gR=window['currentGlobalAudios'];if(gR){var gS=gR[gQ['get']('id')];if(gS){gQ=gS['audio'];delete gR[gQ['get']('id')];if(Object['keys'](gR)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(gQ)gQ['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(gT,gU){var gV=this['getCurrentPlayerWithMedia'](gU);if(gV!=undefined){var gW=gT['get']('initialPosition');gW['set']('yaw',gV['get']('yaw'));gW['set']('pitch',gV['get']('pitch'));gW['set']('hfov',gV['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(gX,gY,gZ,h0,h1,h2){var h3=this['getKey']('keepVisibility_'+gX['get']('id'));if(h3)return;this['unregisterKey']('visibility_'+gX['get']('id'));var h4=function(){if(h0&&h1){gX['set'](h1,h0);}gX['set']('visible',gY);if(gX['get']('class')=='ViewerArea'){try{if(gY)gX['restart']();else if(gX['get']('playbackState')=='playing')gX['pause']();}catch(h9){};}};var h5='effectTimeout_'+gX['get']('id');if(!h2&&window['hasOwnProperty'](h5)){var h7=window[h5];if(h7 instanceof Array){for(var h8=0x0;h8<h7['length'];h8++){clearTimeout(h7[h8]);}}else{clearTimeout(h7);}delete window[h5];}else if(gY==gX['get']('visible')&&!h2)return;if(gZ&&gZ>0x0){var h7=setTimeout(function(){if(window[h5]instanceof Array){var ha=window[h5];var hb=ha['indexOf'](h7);ha['splice'](hb,0x1);if(ha['length']==0x0){delete window[h5];}}else{delete window[h5];}h4();},gZ);if(window['hasOwnProperty'](h5)){window[h5]=[window[h5],h7];}else{window[h5]=h7;}}else{h4();}};TDV['Tour']['Script']['setLocale']=function(hc){this['get']('data')['localeManager']['setLocale'](hc);};TDV['Tour']['Script']['setEndToItemIndex']=function(hd,he,hf){var hg=function(){if(hd['get']('selectedIndex')==he)hd['set']('selectedIndex',hf);};this['executeFunctionWhenChange'](hd,he,hg);};TDV['Tour']['Script']['setMapLocation']=function(hh,hi){var hj=function(){hh['unbind']('stop',hj,this);hk['set']('mapPlayer',null);};hh['bind']('stop',hj,this);var hk=hh['get']('player');hk['set']('mapPlayer',hi);};TDV['Tour']['Script']['setMainMediaByIndex']=function(hl){var hm=undefined;if(hl>=0x0&&hl<this['mainPlayList']['get']('items')['length']){this['mainPlayList']['set']('selectedIndex',hl);hm=this['mainPlayList']['get']('items')[hl];}return hm;};TDV['Tour']['Script']['setMainMediaByName']=function(hn){var ho=this['_getPlayListsWithViewer'](this['MainViewer']);for(var hp=0x0,hq=ho['length'];hp<hq;++hp){var hr=ho[hp];var hs=hr['get']('items');for(var ht=0x0,hu=hs['length'];ht<hu;++ht){var hv=hs[ht];var hw=hv['get']('media')['get']('data');if(hw!==undefined&&hw['label']==hn&&hv['get']('player')['get']('viewerArea')==this['MainViewer']){hr['set']('selectedIndex',ht);return hv;}}}};TDV['Tour']['Script']['setMediaBehaviour']=function(hx,hy,hz){var hA=this;var hB=function(hY){if(hY['data']['state']=='stopped'){hF['call'](this,!![]);}};var hC=function(){hL['unbind']('begin',hC,hA);var hZ=hL['get']('media');if(hZ['get']('class')!='Panorama'||hZ['get']('camera')!=undefined&&hZ['get']('camera')['get']('initialSequence')!=undefined){hM['bind']('stateChange',hB,hA);}};var hD=function(){var i0=hI['get']('selectedIndex');if(i0!=-0x1){hK=i0;hF['call'](this,![]);}};var hE=function(){hF['call'](this,![]);};var hF=function(i1){if(!hI)return;var i2=hL['get']('media');if((i2['get']('class')=='Video360'||i2['get']('class')=='Video')&&i2['get']('loop')==!![]&&!i1)return;hx['set']('selectedIndex',-0x1);if(hT&&hS!=-0x1){if(hT){if(hS>0x0&&hT['get']('movements')[hS-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var i3=hU['get']('initialPosition');var i4=i3['get']('yaw');var i5=i3['get']('pitch');var i6=i3['get']('hfov');var i7=hT['get']('movements')[hS-0x1];i3['set']('yaw',i7['get']('targetYaw'));i3['set']('pitch',i7['get']('targetPitch'));i3['set']('hfov',i7['get']('targetHfov'));var i8=function(ib){i3['set']('yaw',i4);i3['set']('pitch',i5);i3['set']('hfov',i6);hO['unbind']('end',i8,this);};hO['bind']('end',i8,this);}hT['set']('movementIndex',hS);}}if(hM){hL['unbind']('begin',hC,this);hM['unbind']('stateChange',hB,this);for(var i9=0x0;i9<hV['length'];++i9){hV[i9]['unbind']('click',hE,this);}}if(hR){var ia=this['getMediaFromPlayer'](hM);if(ia==undefined||ia==hL['get']('media')){hI['set']('selectedIndex',hK);}if(hx!=hI)hI['unbind']('change',hD,this);}else{hP['set']('visible',hQ);}hI=undefined;};if(!hz){var hG=hx['get']('selectedIndex');var hH=hG!=-0x1?hx['get']('items')[hx['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['MainViewer']);if(hH){hz=this['getMediaFromPlayer'](hH);}}var hI=undefined;if(hz){var hJ=this['getPlayListsWithMedia'](hz,!![]);hI=hJ['indexOf'](hx)!=-0x1?hx:hJ['length']>0x0?hJ[0x0]:undefined;}if(!hI){hx['set']('selectedIndex',hy);return;}var hK=hI['get']('selectedIndex');var hL=hx['get']('items')[hy];var hM=hL['get']('player');var hN=this['getMediaFromPlayer'](hM);if(hx['get']('selectedIndex')==hy&&hN==hL['get']('media')||hK==-0x1){return;}if(hx['get']('selectedIndex')==hy&&hN!=hL['get']('media'))hx['set']('selectedIndex',-0x1);var hO=hI['get']('items')[hK];var hP=hM['get']('viewerArea');var hQ=hP['get']('visible');var hR=hP==hO['get']('player')['get']('viewerArea');if(hR){if(hx!=hI){hI['set']('selectedIndex',-0x1);hI['bind']('change',hD,this);}}else{hP['set']('visible',!![]);}var hS=-0x1;var hT=undefined;var hU=hO['get']('camera');if(hU){hT=hU['get']('initialSequence');if(hT){hS=hT['get']('movementIndex');}}hx['set']('selectedIndex',hy);var hV=[];var hW=function(ic){var id=hM['get'](ic);if(id==undefined)return;if(Array['isArray'](id))hV=hV['concat'](id);else hV['push'](id);};hW('buttonStop');for(var hX=0x0;hX<hV['length'];++hX){hV[hX]['bind']('click',hE,this);}hL['bind']('begin',hC,hA);this['executeFunctionWhenChange'](hx,hy,hE);};TDV['Tour']['Script']['setOverlayBehaviour']=function(ie,ig,ih,ii){var ij=function(){switch(ih){case'triggerClick':this['triggerOverlay'](ie,'click');break;case'stop':case'play':case'pause':ie[ih]();break;case'togglePlayPause':case'togglePlayStop':if(ie['get']('state')=='playing')ie[ih=='togglePlayPause'?'pause':'stop']();else ie['play']();break;}if(ii){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var io=ie['get']('id');window['overlaysDispatched'][io]=!![];setTimeout(function(){delete window['overlaysDispatched'][io];},0x3e8);}};if(ii&&window['overlaysDispatched']!=undefined&&ie['get']('id')in window['overlaysDispatched'])return;var ik=this['getFirstPlayListWithMedia'](ig,!![]);if(ik!=undefined){var il=this['getPlayListItemByMedia'](ik,ig);if(ik['get']('items')['indexOf'](il)!=ik['get']('selectedIndex')){var im=function(ip){il['unbind']('begin',im,this);ij['call'](this);};il['bind']('begin',im,this);return;}}ij['call'](this);};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(iq){var ir=this['getActiveMediaWithViewer'](this['MainViewer']);if(ir!=undefined&&(ir['get']('class')['indexOf']('Panorama')!=-0x1||ir['get']('class')=='Video360')){var is=iq['get']('media');var it=this['cloneCamera'](iq['get']('camera'));this['setCameraSameSpotAsMedia'](it,ir);this['startPanoramaWithCamera'](is,it);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(iu,iv,iw){var ix=iu['get']('media');var iy=this['cloneCamera'](iu['get']('camera'));var iz=iy['get']('initialPosition');iz['set']('yaw',iv);iz['set']('pitch',iw);this['startPanoramaWithCamera'](ix,iy);};TDV['Tour']['Script']['setValue']=function(iA,iB,iC){if('set'in iA)iA['set'](iB,iC);else iA[iB]=iC;};TDV['Tour']['Script']['setStartTimeVideo']=function(iD,iE){var iF=this['getPlayListItems'](iD);var iG=[];var iH=function(){for(var iL=0x0;iL<iF['length'];++iL){var iM=iF[iL];iM['set']('startTime',iG[iL]);iM['unbind']('stop',iH,this);}};for(var iI=0x0;iI<iF['length'];++iI){var iJ=iF[iI];var iK=iJ['get']('player');if(iK['get']('video')==iD&&iK['get']('state')=='playing'){iK['seek'](iE);}else{iG['push'](iJ['get']('startTime'));iJ['set']('startTime',iE);iJ['bind']('stop',iH,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(iN,iO){this['setStartTimeVideo'](iN,iO['get']('currentTime'));};TDV['Tour']['Script']['shareSocial']=function(iP,iQ,iR,iS){if(iR){this['updateDeepLink']();}if(iQ==undefined){iQ=iR?location['href']:location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}else if(iR){iQ+=location['hash'];}iQ=function(iU){switch(iU){case'fb':return'https://www.facebook.com/sharer/sharer.php?u='+iQ;case'li':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(iQ);case'pt':return'https://pinterest.com/pin/create/button/?url='+iQ;case'tw':return'https://twitter.com/intent/tweet?source=webclient&url='+iQ;case'wa':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(iQ);default:return undefined;}}(iP);if(iS){for(var iT in iS){iQ+='&'+iT+'='+iS[iT];}}this['openLink'](iQ,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(iV,iW,iX){var iY=function(j2){for(var j3=0x0,j4=iW['length'];j3<j4;j3++){var j5=iW[j3];if(j5['get']('class')=='HTMLText'&&(j5['get']('html')==''||j5['get']('html')==undefined)){continue;}j5['set']('visible',j2);}};if(this['rootPlayer']['get']('touchDevice')==!![]){iY(!![]);}else{var iZ=-0x1;var j0=function(){iY(!![]);if(iZ>=0x0)clearTimeout(iZ);iV['unbind']('rollOver',j0,this);iV['bind']('rollOut',j1,this);};var j1=function(){var j6=function(){iY(![]);iV['unbind']('rollOver',j0,this);};iV['unbind']('rollOut',j1,this);iV['bind']('rollOver',j0,this);iZ=setTimeout(j6,iX);};iV['bind']('rollOver',j0,this);}};TDV['Tour']['Script']['showPopupMedia']=function(j7,j8,j9,ja,jb,jc,jd){var je=this;var jf=function(){j9['set']('selectedIndex',-0x1);je['MainViewer']['set']('toolTipEnabled',!![]);if(jd){je['resumeGlobalAudios']();}this['resumePlayers'](jk,!jd);if(jj){this['unbind']('resize',jh,this);}j7['unbind']('close',jf,this);};var jg=function(){j7['hide']();};var jh=function(){var jl=function(jC){return j7['get'](jC)||0x0;};var jm=je['get']('actualWidth');var jn=je['get']('actualHeight');var jo=je['getMediaWidth'](j8);var jp=je['getMediaHeight'](j8);var jq=parseFloat(ja)/0x64;var jr=parseFloat(jb)/0x64;var js=jq*jm;var jt=jr*jn;var ju=jl('footerHeight');var jv=jl('headerHeight');if(!jv){var jw=jl('closeButtonIconHeight')+jl('closeButtonPaddingTop')+jl('closeButtonPaddingBottom');var jx=je['getPixels'](jl('titleFontSize'))+jl('titlePaddingTop')+jl('titlePaddingBottom');jv=jw>jx?jw:jx;jv+=jl('headerPaddingTop')+jl('headerPaddingBottom');}var jy=js-jl('bodyPaddingLeft')-jl('bodyPaddingRight')-jl('paddingLeft')-jl('paddingRight');var jz=jt-jv-ju-jl('bodyPaddingTop')-jl('bodyPaddingBottom')-jl('paddingTop')-jl('paddingBottom');var jA=jy/jz;var jB=jo/jp;if(jA>jB){js=jz*jB+jl('bodyPaddingLeft')+jl('bodyPaddingRight')+jl('paddingLeft')+jl('paddingRight');}else{jt=jy/jB+jv+ju+jl('bodyPaddingTop')+jl('bodyPaddingBottom')+jl('paddingTop')+jl('paddingBottom');}if(js>jm*jq){js=jm*jq;}if(jt>jn*jr){jt=jn*jr;}j7['set']('width',js);j7['set']('height',jt);j7['set']('x',(jm-jl('actualWidth'))*0.5);j7['set']('y',(jn-jl('actualHeight'))*0.5);};if(jc){this['executeFunctionWhenChange'](j9,0x0,jg);}var ji=j8['get']('class');var jj=ji=='Video'||ji=='Video360';j9['set']('selectedIndex',0x0);if(jj){this['bind']('resize',jh,this);jh();j9['get']('items')[0x0]['get']('player')['play']();}else{j7['set']('width',ja);j7['set']('height',jb);}this['MainViewer']['set']('toolTipEnabled',![]);if(jd){this['pauseGlobalAudios']();}var jk=this['pauseCurrentPlayers'](!jd);j7['bind']('close',jf,this);j7['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(jD,jE,jF,jG,jH,jI,jJ,jK,jL,jM,jN,jO){var jP=this;var jQ=![];var jR=function(){k6['unbind']('loaded',jU,jP);jW();};var jS=function(){k6['unbind']('click',jS,this);if(ka!=undefined){clearTimeout(ka);}};var jT=function(){setTimeout(k0,0x0);};var jU=function(){jP['unbind']('click',jR,jP);k5['set']('visible',!![]);k0();k7['set']('visible',!![]);k6['unbind']('loaded',jU,this);k6['bind']('userInteractionStart',k1,this);k6['bind']('userInteractionEnd',k2,this);k6['bind']('resize',jT,this);ka=setTimeout(jV,0xc8);};var jV=function(){ka=undefined;if(jK){var kc=function(){jW();};k6['bind']('click',jS,this);ka=setTimeout(kc,jK);}k6['bind']('backgroundClick',jW,this);if(jE){k6['bind']('click',jY,this);k6['set']('imageCursor','hand');}k7['bind']('click',jW,this);if(jN)jN();};var jW=function(){jP['MainViewer']['set']('toolTipEnabled',!![]);jQ=!![];if(ka)clearTimeout(ka);if(kb)clearTimeout(kb);if(jK)jS();if(jO)jO();k6['set']('visible',![]);if(jI&&jI['get']('duration')>0x0){jI['bind']('end',jX,this);}else{k6['set']('image',null);}k7['set']('visible',![]);k5['set']('visible',![]);jP['unbind']('click',jR,jP);k6['unbind']('backgroundClick',jW,this);k6['unbind']('userInteractionStart',k1,this);k6['unbind']('userInteractionEnd',k2,this,!![]);k6['unbind']('resize',jT,this);if(jE){k6['unbind']('click',jY,this);k6['set']('cursor','default');}k7['unbind']('click',jW,this);jP['resumePlayers'](k9,jL==null||jM);if(jL){if(jM){jP['resumeGlobalAudios']();}jP['stopGlobalAudio'](jL);}};var jX=function(){k6['set']('image',null);jI['unbind']('end',jX,this);};var jY=function(){k6['set']('image',jZ()?jD:jE);};var jZ=function(){return k6['get']('image')==jE;};var k0=function(){var kd=k6['get']('actualWidth')-k6['get']('imageLeft')-k6['get']('imageWidth')+0xa;var ke=k6['get']('imageTop')+0xa;if(kd<0xa)kd=0xa;if(ke<0xa)ke=0xa;k7['set']('right',kd);k7['set']('top',ke);};var k1=function(){if(kb){clearTimeout(kb);kb=undefined;}else{k7['set']('visible',![]);}};var k2=function(){if(!jQ){kb=setTimeout(k3,0x12c);}};var k3=function(){kb=undefined;k7['set']('visible',!![]);k0();};var k4=function(kf){var kg=kf['get']('data');if(kg&&'extraLevels'in kg){var kh=jP['rootPlayer']['createInstance'](kf['get']('class'));var ki=kg['extraLevels'];kh['set']('levels',kf['get']('levels')['concat'](ki));kf=kh;}return kf;};this['MainViewer']['set']('toolTipEnabled',![]);var k5=this['veilPopupPanorama'];var k6=this['zoomImagePopupPanorama'];var k7=this['closeButtonPopupPanorama'];if(jJ){for(var k8 in jJ){k7['set'](k8,jJ[k8]);}}var k9=this['pauseCurrentPlayers'](jL==null||!jM);if(jL){if(jM){this['pauseGlobalAudios']();}this['playGlobalAudio'](jL);}var ka=undefined;var kb=undefined;jD=k4(jD);if(jE)jE=k4(jE);k6['bind']('loaded',jU,this);setTimeout(function(){jP['bind']('click',jR,jP,![]);},0x0);k6['set']('image',jD);k6['set']('customWidth',jF);k6['set']('customHeight',jG);k6['set']('showEffect',jH);k6['set']('hideEffect',jI);k6['set']('visible',!![]);return k6;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(kj,kk,kl,km,kn,ko,kp){var kq=this;this['MainViewer']['set']('toolTipEnabled',![]);var kr=this['isCardboardViewMode']();if(!kr){var ks=this['zoomImagePopupPanorama'];var kt=kj['get']('showDuration');var ku=kj['get']('hideDuration');var kw=this['pauseCurrentPlayers'](ko==null||!kp);var kx=kj['get']('popupMaxWidth');var ky=kj['get']('popupMaxHeight');var kz=function(){var kC=function(){if(!kq['isCardboardViewMode']())kj['set']('visible',![]);};kj['unbind']('showEnd',kz,kq);kj['set']('showDuration',0x1);kj['set']('hideDuration',0x1);kq['showPopupImage'](kl,km,kj['get']('popupMaxWidth'),kj['get']('popupMaxHeight'),null,null,kk,kn,ko,kp,kC,kA);};var kA=function(){var kD=function(){kj['unbind']('showEnd',kD,kq);kj['set']('visible',![]);kj['set']('showDuration',kt);kj['set']('popupMaxWidth',kx);kj['set']('popupMaxHeight',ky);};kq['resumePlayers'](kw,ko==null||!kp);var kE=ks['get']('imageWidth');var kF=ks['get']('imageHeight');kj['bind']('showEnd',kD,kq,!![]);kj['set']('showDuration',0x1);kj['set']('hideDuration',ku);kj['set']('popupMaxWidth',kE);kj['set']('popupMaxHeight',kF);if(kj['get']('visible'))kD();else kj['set']('visible',!![]);kq['MainViewer']['set']('toolTipEnabled',!![]);};kj['bind']('showEnd',kz,this,!![]);}else{var kB=function(){kq['resumePlayers'](kw,ko==null||kp);if(ko){if(kp){kq['resumeGlobalAudios']();}kq['stopGlobalAudio'](ko);}kj['unbind']('hideEnd',kB,kq);kq['MainViewer']['set']('toolTipEnabled',!![]);};var kw=this['pauseCurrentPlayers'](ko==null||!kp);if(ko){if(kp){this['pauseGlobalAudios']();}this['playGlobalAudio'](ko);}kj['bind']('hideEnd',kB,this,!![]);}kj['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(kG,kH,kI){var kJ=this;var kK=function(){kG['unbind']('showEnd',kK);kO['bind']('click',kM,this);kN();kO['set']('visible',!![]);};var kL=function(){if(!kG['get']('loop'))kM();};var kM=function(){kJ['MainViewer']['set']('toolTipEnabled',!![]);kG['set']('visible',![]);kO['set']('visible',![]);kO['unbind']('click',kM,kJ);kG['unbind']('end',kL,kJ);kG['unbind']('hideEnd',kM,kJ,!![]);kJ['resumePlayers'](kQ,!![]);if(kI){kJ['resumeGlobalAudios']();}};var kN=function(){var kR=0xa;var kS=0xa;kO['set']('right',kR);kO['set']('top',kS);};this['MainViewer']['set']('toolTipEnabled',![]);var kO=this['closeButtonPopupPanorama'];if(kH){for(var kP in kH){kO['set'](kP,kH[kP]);}}var kQ=this['pauseCurrentPlayers'](!![]);if(kI){this['pauseGlobalAudios']();}kG['bind']('end',kL,this,!![]);kG['bind']('showEnd',kK,this,!![]);kG['bind']('hideEnd',kM,this,!![]);kG['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(kT,kU,kV){if(kT['get']('visible')==!![]){return;}var kW=function(){kX();this['resumePlayers'](l0,!kV);kT['unbind']('close',kW,this);};var kX=function(){kT['unbind']('click',kX,this);if(kY!=undefined){clearTimeout(kY);}};var kY=undefined;if(kU){var kZ=function(){kT['hide']();};kT['bind']('click',kX,this);kY=setTimeout(kZ,kU);}var l0=this['pauseCurrentPlayers'](!kV);kT['bind']('close',kW,this);kT['show'](this,!![]);};TDV['Tour']['Script']['startPanoramaWithCamera']=function(l1,l2){if(window['currentPanoramasWithCameraChanged']!=undefined&&window['currentPanoramasWithCameraChanged']['indexOf'](l1)!=-0x1){return;}var l3=this['getByClassName']('PlayList');if(l3['length']==0x0)return;var l4=[];for(var l6=0x0,l7=l3['length'];l6<l7;++l6){var l8=l3[l6];var l9=l8['get']('items');for(var la=0x0,lb=l9['length'];la<lb;++la){var lc=l9[la];if(lc['get']('media')==l1&&(lc['get']('class')=='PanoramaPlayListItem'||lc['get']('class')=='Video360PlayListItem')){l4['push']({'camera':lc['get']('camera'),'item':lc});lc['set']('camera',l2);}}}if(l4['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']=[l1];}else{window['currentPanoramasWithCameraChanged']['push'](l1);}var ld=function(){var le=window['currentPanoramasWithCameraChanged']['indexOf'](l1);if(le!=-0x1){window['currentPanoramasWithCameraChanged']['splice'](le,0x1);}for(var lf=0x0;lf<l4['length'];lf++){l4[lf]['item']['set']('camera',l4[lf]['camera']);l4[lf]['item']['unbind']('stop',ld,this);}};for(var l6=0x0;l6<l4['length'];l6++){l4[l6]['item']['bind']('stop',ld,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(lg,lh){var li=lg['get']('initialSequence');li['pause']();var lj=function(){li['play']();};setTimeout(lj,lh);};TDV['Tour']['Script']['syncPlaylists']=function(lk){var ll=function(lt,lu){for(var lv=0x0,lw=lk['length'];lv<lw;++lv){var lx=lk[lv];if(lx!=lu){var ly=lx['get']('items');for(var lz=0x0,lA=ly['length'];lz<lA;++lz){if(ly[lz]['get']('media')==lt){if(lx['get']('selectedIndex')!=lz){lx['set']('selectedIndex',lz);}break;}}}}};var lm=function(lB){var lC=lB['source'];var lD=lC['get']('selectedIndex');if(lD<0x0)return;var lE=lC['get']('items')[lD]['get']('media');ll(lE,lC);};var ln=function(lF){var lG=lF['source']['get']('panoramaMapLocation');if(lG){var lH=lG['get']('map');ll(lH);}};for(var lp=0x0,lr=lk['length'];lp<lr;++lp){lk[lp]['bind']('change',lm,this);}var ls=this['getByClassName']('MapPlayer');for(var lp=0x0,lr=ls['length'];lp<lr;++lp){ls[lp]['bind']('panoramaMapLocation_change',ln,this);}};TDV['Tour']['Script']['translate']=function(lI){return this['get']('data')['localeManager']['trans'](lI);};TDV['Tour']['Script']['triggerOverlay']=function(lJ,lK){if(lJ['get']('areas')!=undefined){var lL=lJ['get']('areas');for(var lM=0x0;lM<lL['length'];++lM){lL[lM]['trigger'](lK);}}else{lJ['trigger'](lK);}};TDV['Tour']['Script']['updateDeepLink']=function(){var lN=this['mainPlayList']['get']('selectedIndex');if(lN>=0x0){location['hash']='#media='+(lN+0x1);}else{var lO=this['getActiveMediaWithViewer'](this['MainViewer']);if(lO!=undefined){var lP=lO['get']('data');if(lP){location['hash']='#media-name='+lP['label'];}}}};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(lQ,lR,lS){var lT=function(){var lV=lQ['get']('selectedIndex');if(lV>=0x0){var lW=function(){lZ['unbind']('begin',lW);lX(lV);};var lX=function(m0){var m1=lZ['get']('media');var m2=m1['get']('data');var m3=m2!==undefined?m2['description']||m1['get']('label'):m1['get']('label');lY(m3);};var lY=function(m4){if(m4!==undefined){lR['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+m4+'</SPAN></div>');}else{lR['set']('html','');}};var lZ=lQ['get']('items')[lV];if(lR['get']('html')){lY('Loading...');lZ['bind']('begin',lW);}else{lX(lV);}}};var lU=function(){lR['set']('html',undefined);lQ['unbind']('change',lT,this);lS['unbind']('stop',lU,this);};if(lS){lS['bind']('stop',lU,this);}lQ['bind']('change',lT,this);lT();};TDV['Tour']['Script']['updateVideoCues']=function(m5,m6){var m7=m5['get']('items')[m6];var m8=m7['get']('media');if(m8['get']('cues')['length']==0x0)return;var m9=m7['get']('player');var ma=[];var mb=function(){if(m5['get']('selectedIndex')!=m6){m8['unbind']('cueChange',mc,this);m5['unbind']('change',mb,this);}};var mc=function(md){var me=md['data']['activeCues'];for(var mf=0x0,mg=ma['length'];mf<mg;++mf){var mh=ma[mf];if(me['indexOf'](mh)==-0x1&&(mh['get']('startTime')>m9['get']('currentTime')||mh['get']('endTime')<m9['get']('currentTime')+0.5)){mh['trigger']('end');}}ma=me;};m8['bind']('cueChange',mc,this);m5['bind']('change',mb,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(mi,mj){var mk=this['get'](mj);for(var ml in mi){mi[ml]['set']('visible',mk);}};TDV['Tour']['Script']['quizStart']=function(){var mm=this['get']('data')['quiz'];return mm?mm['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var mn=this['get']('data')['quiz'];return mn?mn['finish']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(mo){var mp=this['get']('data')['quiz'];if(mp)mp['setItemFound'](mo);};TDV['Tour']['Script']['quizShowQuestion']=function(mq){var mr=this['get']('data');var ms=mr['quiz'];var mt;if(ms){var mu=this['pauseCurrentPlayers'](!![]);var mv=this[mq];var mw;if(!mv['media']){mw=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){mw={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}mt=ms['showQuestion'](mq,mw);mt['then'](function(mx){this['resumePlayers'](mu,!![]);}['bind'](this));}return mt;};TDV['Tour']['Script']['quizShowScore']=function(my){var mz=this['get']('data');var mA=mz['quiz'];if(mA){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){my=my||{};my=this['mixObject'](my,mz['scorePortraitConfig']);}return mA['showScore'](my);}};TDV['Tour']['Script']['quizShowTimeout']=function(mB,mC){var mD=this['get']('data');var mE=mD['quiz'];if(mE){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){mC=mC||{};mC=this['mixObject'](mC,mD['scorePortraitConfig']);}mE['showTimeout'](mB,mC);}};TDV['Tour']['Script']['getKey']=function(mF){return window[mF];};TDV['Tour']['Script']['registerKey']=function(mG,mH){window[mG]=mH;};TDV['Tour']['Script']['unregisterKey']=function(mI){delete window[mI];};TDV['Tour']['Script']['existsKey']=function(mJ){return mJ in window;};
//# sourceMappingURL=http://localhost:9000/script_v2020.2.8.js.map
//Generated with v2020.2.8, Tue Jun 9 2020